import os
from cryptography.fernet import Fernet

print("Run this program in a folder with files created by yourself now")
print("Enter yes/no")

assurance = input().strip()

#The fernet is a tool used to create a specific key and use that key to encrypt a file.

files = []

#listdir in os is used to list all the files and directory in the particular folder

for file in os.listdir():
	if file == "encrypter.py" or file == "thekey.key" or file == "decrypter.py":
		continue
	if os.path.isfile(file):
		#To get only files and not directory in the folder.
		files.append(file)


if assurance == "yes" :
	key = Fernet.generate_key()
	#Each time the file it create new key .On using wrong key the file can't be decrpyted.
	
	with open("thekey.key","wb") as  thekey:
		thekey.write(key)
	
	
	for file in files:
		with open(file,"rb") as thefile:
			contents = thefile.read()
		encrypted_content = Fernet(key).encrypt(contents)
		with open(file,"wb") as encrypt_file:
			encrypt_file.write(encrypted_content)

else:
	print("If files lost ,It cannot be retrived.So use it in folder with one or two file and Try Again!!!")

